| task                                                  | from                      | done                      | note                                                                                                                                                                                                                                                                                                                                     |
| ----------------------------------------------------- | ------------------------- | ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [x] 1. 可以在没有传入命令和参数的时候答应帮助文档了。 |                           | done: 2025-09-01 23:04:03 |
| [x] 2. 解析命令名称并执行这个命令。                   |                           | done: 2025-09-02 02:24:34 |
| [x] 3. 解析带参数的命令并执行命令                     | from: 2025-09-02 02:25:50 | done: 2025-09-02 07:48:03 |
| [x] 4. 解析带多个参数的命令并执行命令                 | from: 2025-09-02 07:48:28 | done: 2025-09-02 07:48:32 |
| [x] 5. 解析集合类型的数据： Vec 等                    | from: 2025-09-02 07:49:45 | done: 2025-09-02 23:31:57 |
| [x] 6. 参数数量检测。                                 | from: 2025-09-02 23:31:31 | done: 2025-09-03 18:04:30 | 缺少参数的时候 会主动 .cargo () 的。                                                                                                                                                                                                                                                                                                     |
| [x] 7. 生成 app 帮助文档                              | from: 2025-09-03 01:35:06 | done: 2025-09-04 01:01:10 |
| [x] 8. 生成命令帮助文档                               | from: 2025-09-03 01:35:32 | done: 2025-09-04 17:54:01 | 8. 生成命令帮助文档 <br> 方案一：<br> 在 #[command] 哪里生成打印这个命令帮助文档的函数。<br> 这个会污染 名称空间。 暂不考虑。<br> 方案二：<br> 存储到 app.CmdInfo 里面<br> 这个要写一堆执行 存储 的代码，再写一堆 取出的代码，有点麻烦，<br> 方案三：<br> 存储到 match case 里面。<br> 这个没有上述两个的缺点，<br> 最终还是选择了方案二 |
| [x] 9. 更友好的错误提示                               | from: 2025-09-03 01:36:02 | done: 2025-09-05 21:08:57 |
| [x] 10. 支持自定义命令的 quick help                   | from: 2025-09-03 19:35:21 | done: 2025-09-04 17:55:24 | 用 #[command] 标记的函数的文档注释会用作这个命令的 quick help。                                                                                                                                                                                                                                                                          |
| [x] 11. 提供默认的 help 命令 和 version 命令          | from: 2025-09-04 01:01:49 | done: 2025-09-04 21:41:00 | done: 2025-09-04 21:48:36                                                                                                                                                                                                                                                                                                                |

## Q&A

Q: 需要支持 [arg] 这样的可填写可不填写 的类型吗？
A: 老实说，这会增加复杂度，aslip 程序实现的复杂度， cli 程序的复杂度，
以及最重要的，会让 cli 程序的使用变得复杂而难以理解.
-- 2025-09-04 13:19:48
[arg] 类型的一个难题： #[command]
fn f(a: Option<String>, b: Vec<String>){}
当 cli 用户传入： app f "123" "456" "789" 时，
用户是期望 a: "123" , b: ["456", "789"] 呢，
还是期望 a: None , b: ["123", "456", "789"] 呢，
2025-09-05 14:24:38

Q: 为什么 [arg...] 这样的数组类型一定要放到最后一个参数呢？
A:

如果 [arg...] 类型可以作为前面几个参数的类型的话： #[command]
fn cmd(a: Vec<String>, b: Vec<String>){}
当 cli 用户传入： app f "123" "456" "789" 时，
用户是期望 a: [ "123" ] , b: ["456", "789"] 呢，
还是期望 a: ["123", "456"] , b: [ "789" ] 呢，
